{"openapi":"3.0.0","paths":{"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRegisterRequestDto"}}}},"responses":{"201":{"description":"User register","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRegisterResponseDto"}}}}},"tags":["auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginRequestDto"}}}},"responses":{"201":{"description":"User login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginResponseDto"}}}}},"tags":["auth"]}},"/profile/update":{"post":{"operationId":"ProfileController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequestDto"}}}},"responses":{"201":{"description":"Update user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileResponseDto"}}}}},"tags":["profile"],"security":[{"bearer":[]}]}},"/profile/{userId}":{"get":{"operationId":"ProfileController_get","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetProfileResponseDto"}}}}},"tags":["profile"]}},"/users":{"get":{"operationId":"UsersController_getUsers","parameters":[],"responses":{"201":{"description":"Get users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetUserResponseDto"}}}}}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_getUserById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get user by id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserResponseDto"}}}}},"tags":["users"]}},"/users/follow/{id}":{"get":{"operationId":"UsersController_getFollowUsers","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get members","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetUserResponseDto"}}}}}},"tags":["users"]}},"/follow":{"put":{"operationId":"FollowController_follow","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FollowRequestDto"}}}},"responses":{"201":{"description":"Follow","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FollowResponseDto"}}}}},"tags":["follow"]},"delete":{"operationId":"FollowController_unfollow","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FollowRequestDto"}}}},"responses":{"201":{"description":"Unfollow","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FollowResponseDto"}}}}},"tags":["follow"]}},"/posts":{"post":{"operationId":"PostsController_createPost","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUploadDto"}}}},"responses":{"201":{"description":"Create Post","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostResponseDto"}}}}},"tags":["posts"],"security":[{"bearer":[]}]}},"/posts/{parentId}":{"post":{"operationId":"PostsController_createComment","parameters":[{"name":"parentId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUploadDto"}}}},"responses":{"201":{"description":"Create comment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentResponseDto"}}}}},"tags":["posts"],"security":[{"bearer":[]}]}},"/posts/{id}":{"put":{"operationId":"PostsController_updatePost","parameters":[{"name":"authorization","required":true,"in":"header","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUploadDto"}}}},"responses":{"201":{"description":"Update post","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePostResponseDto"}}}}},"tags":["posts"],"security":[{"bearer":[]}]}},"/posts/{image}":{"get":{"operationId":"PostsController_getPost","parameters":[{"name":"imageId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get photo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/"}}}}},"tags":["posts"]}},"/posts/user/{id}":{"get":{"operationId":"PostsController_getPostsOfUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get user posts","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetUserPostsResponseDto"}}}}}},"tags":["posts"]}},"/dialogs":{"post":{"operationId":"DialogsController_createDialog","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDialogRequestDto"}}}},"responses":{"201":{"description":"Create dialog","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDialogResponseDto"}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]},"get":{"operationId":"DialogsController_getDialogs","parameters":[],"responses":{"201":{"description":"Get dialogs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetDialogResponseDto"}}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]},"put":{"operationId":"DialogsController_updateDialogOwners","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOwnersRequestDto"}}}},"responses":{"201":{"description":"Update owners","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDialogResponseDto"}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]}},"/dialogs/{id}":{"get":{"operationId":"DialogsController_getDialog","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get dialog","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDialogResponseDto"}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]}}},"info":{"title":"Social network","description":"Social network API ","version":"1.0","contact":{}},"tags":[{"name":"API","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"AuthRegisterRequestDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}},"required":["firstName","lastName","phone","email","password"]},"FollowModel":{"type":"object","properties":{"userId":{"type":"string"},"followUser":{"default":["userId"],"allOf":[{"$ref":"#/components/schemas/UserModel"}]}},"required":["userId","followUser"]},"PostsModel":{"type":"object","properties":{"owner":{"$ref":"#/components/schemas/UserModel"},"text":{"type":"string"},"image":{"type":"string"},"likes":{"type":"number"},"views":{"type":"number"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}}},"required":["owner","text","image","likes","views","comments"]},"ObjectId":{"type":"object","properties":{}},"MessagesModel":{"type":"object","properties":{"dialog":{"default":["dialogId"],"type":"array","items":{"$ref":"#/components/schemas/DialogsModel"}},"ownerId":{"$ref":"#/components/schemas/ObjectId"},"text":{"type":"string"},"image":{"type":"string"},"file":{"type":"string"}},"required":["dialog","ownerId","text","image","file"]},"DialogsModel":{"type":"object","properties":{"owners":{"type":"array","items":{"$ref":"#/components/schemas/UserModel"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/MessagesModel"}}},"required":["owners","messages"]},"UserModel":{"type":"object","properties":{"email":{"type":"string"},"passwordHash":{"type":"string"},"profile":{"default":"ProfileId","allOf":[{"$ref":"#/components/schemas/ProfileModel"}]},"follow":{"default":"followId","allOf":[{"$ref":"#/components/schemas/FollowModel"}]},"posts":{"default":["postId"],"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}},"dialogs":{"default":["dialogId"],"type":"array","items":{"$ref":"#/components/schemas/DialogsModel"}}},"required":["email","passwordHash","profile","follow","posts","dialogs"]},"ProfileModel":{"type":"object","properties":{"owner":{"default":["ownerId"],"allOf":[{"$ref":"#/components/schemas/UserModel"}]},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"avatar":{"type":"string"},"status":{"type":"string"},"about":{"type":"string"},"dateOfBirth":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"brothersAndSisters":{"type":"string"},"school":{"type":"string"}},"required":["owner","firstName","lastName","phone","avatar","status","about","dateOfBirth","country","city","brothersAndSisters","school"]},"AuthRegisterResponseDto":{"type":"object","properties":{"email":{"type":"string"},"passwordHash":{"type":"string"},"profile":{"default":"ProfileId","allOf":[{"$ref":"#/components/schemas/ProfileModel"}]},"follow":{"default":"followId","allOf":[{"$ref":"#/components/schemas/FollowModel"}]},"posts":{"default":["postId"],"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}},"dialogs":{"default":["dialogId"],"type":"array","items":{"$ref":"#/components/schemas/DialogsModel"}}}},"AuthLoginRequestDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"AuthLoginResponseDto":{"type":"object","properties":{"access_token":{"type":"string"}},"required":["access_token"]},"UpdateProfileRequestDto":{"type":"object","properties":{"status":{"type":"string"},"about":{"type":"string"}},"required":["status","about"]},"UpdateProfileResponseDto":{"type":"object","properties":{"owner":{"default":["ownerId"],"allOf":[{"$ref":"#/components/schemas/UserModel"}]},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"avatar":{"type":"string"},"status":{"type":"string"},"about":{"type":"string"},"dateOfBirth":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"brothersAndSisters":{"type":"string"},"school":{"type":"string"}}},"GetProfileResponseDto":{"type":"object","properties":{"owner":{"default":["ownerId"],"allOf":[{"$ref":"#/components/schemas/UserModel"}]},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"avatar":{"type":"string"},"status":{"type":"string"},"about":{"type":"string"},"dateOfBirth":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"brothersAndSisters":{"type":"string"},"school":{"type":"string"}}},"GetUserResponseDto":{"type":"object","properties":{"email":{"type":"string"},"passwordHash":{"type":"string"},"profile":{"default":"ProfileId","allOf":[{"$ref":"#/components/schemas/ProfileModel"}]},"follow":{"default":"followId","allOf":[{"$ref":"#/components/schemas/FollowModel"}]},"posts":{"default":["postId"],"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}},"dialogs":{"default":["dialogId"],"type":"array","items":{"$ref":"#/components/schemas/DialogsModel"}}}},"FollowRequestDto":{"type":"object","properties":{"followUserId":{"type":"string"},"userId":{"type":"string"}},"required":["followUserId","userId"]},"FollowResponseDto":{"type":"object","properties":{"userId":{"type":"string"},"followUser":{"default":["userId"],"allOf":[{"$ref":"#/components/schemas/UserModel"}]}}},"FileUploadDto":{"type":"object","properties":{"file":{"type":"string","format":"binary"},"text":{"type":"string"}},"required":["file","text"]},"CreatePostResponseDto":{"type":"object","properties":{"owner":{"default":"ownerId","allOf":[{"$ref":"#/components/schemas/UserModel"}]},"text":{"type":"string"},"image":{"type":"string"},"likes":{"type":"number"},"views":{"type":"number"},"comments":{"default":["postId"],"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}}}},"CreateCommentResponseDto":{"type":"object","properties":{"owner":{"default":"ownerId","allOf":[{"$ref":"#/components/schemas/UserModel"}]},"text":{"type":"string"},"image":{"type":"string"},"likes":{"type":"number"},"views":{"type":"number"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}}}},"UpdatePostResponseDto":{"type":"object","properties":{"owner":{"$ref":"#/components/schemas/UserModel"},"text":{"type":"string"},"image":{"type":"string"},"likes":{"type":"number"},"views":{"type":"number"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}}}},"GetUserPostsResponseDto":{"type":"object","properties":{"owner":{"$ref":"#/components/schemas/UserModel"},"text":{"type":"string"},"image":{"type":"string"},"likes":{"type":"number"},"views":{"type":"number"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/PostsModel"}}}},"CreateDialogRequestDto":{"type":"object","properties":{"text":{"type":"string"},"otherOwners":{"type":"array","items":{"type":"string"}}},"required":["text","otherOwners"]},"CreateDialogResponseDto":{"type":"object","properties":{"owners":{"type":"array","items":{"$ref":"#/components/schemas/UserModel"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/MessagesModel"}}}},"GetDialogResponseDto":{"type":"object","properties":{"owners":{"default":"userId","type":"array","items":{"$ref":"#/components/schemas/UserModel"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/MessagesModel"}}},"required":["owners","messages"]},"UpdateOwnersRequestDto":{"type":"object","properties":{"dialogId":{"type":"string"},"owners":{"type":"array","items":{"type":"string"}}},"required":["dialogId","owners"]}}}}