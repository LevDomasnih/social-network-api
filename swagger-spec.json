{"openapi":"3.0.0","paths":{"/profile/edit":{"post":{"operationId":"ProfileController_edit","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequestDto"}}}},"responses":{"201":{"description":"Update user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditProfileResponseDto"}}}}},"tags":["profile"],"security":[{"bearer":[]}]}},"/profile/{userId}":{"get":{"operationId":"ProfileController_get","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get user profile by user id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindProfileResponseDto"}}}}},"tags":["profile"]}},"/profile/editImg/{field}":{"post":{"operationId":"ProfileController_editImg","parameters":[{"name":"field","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Update img","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditAvatarResponse"}}}}},"tags":["profile"],"security":[{"bearer":[]}]}},"/users":{"get":{"operationId":"UsersController_getUsers","parameters":[],"responses":{"201":{"description":"Get users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetUsersResponseDto"}}}}}},"tags":["users"]}},"/users/me":{"get":{"operationId":"UsersController_getMe","parameters":[],"responses":{"201":{"description":"Get me","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMeResponseDto"}}}}},"tags":["users"],"security":[{"bearer":[]}]}},"/users/{id}":{"get":{"operationId":"UsersController_getUserById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get user by id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserByIdResponseDto"}}}}},"tags":["users"]}},"/users/follow/{id}":{"get":{"operationId":"UsersController_getFollowUsers","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get members","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetFollowUsersResponseDto"}}}}}},"tags":["users"]}},"/follow/{userId}":{"put":{"operationId":"FollowController_follow","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Follow"}},"tags":["follow"]},"delete":{"operationId":"FollowController_unfollow","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Unfollow"}},"tags":["follow"]}},"/blogs":{"post":{"operationId":"BlogsController_createBlog","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUploadDto"}}}},"responses":{"201":{"description":"Create blog"}},"tags":["blogs"],"security":[{"bearer":[]}]}},"/blogs/{id}":{"delete":{"operationId":"BlogsController_deleteBlog","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUploadDto"}}}},"responses":{"201":{"description":"Delete blog"}},"tags":["blogs"],"security":[{"bearer":[]}]}},"/blogs/user/{id}":{"get":{"operationId":"BlogsController_getBlogsOfUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get user blogs by id","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetBlogsOfUserResponseDto"}}}}}},"tags":["blogs"]}},"/dialogs":{"post":{"operationId":"DialogsController_createDialog","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDialogRequestDto"}}}},"responses":{"201":{"description":"Create dialog","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDialogResponseDto"}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]},"get":{"operationId":"DialogsController_getDialogs","parameters":[],"responses":{"201":{"description":"Get dialogs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetDialogsResponseDto"}}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]},"put":{"operationId":"DialogsController_updateDialogOwners","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOwnersRequestDto"}}}},"responses":{"201":{"description":"Update owners","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOwnersResponseDto"}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]}},"/dialogs/{id}":{"get":{"operationId":"DialogsController_getDialog","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get dialog","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDialogResponseDto"}}}}},"tags":["dialogs"],"security":[{"bearer":[]}]}},"/static/PRIVATE/{fileName}":{"get":{"operationId":"StaticController_getPrivateStaticFile","parameters":[{"name":"fileName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Get static files"}},"security":[{"bearer":[]}]}},"/posts/{postId}":{"get":{"operationId":"PostsController_getPost","parameters":[{"name":"postId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}},"put":{"operationId":"PostsController_editPost","parameters":[{"name":"postId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Edit post"}}},"delete":{"operationId":"PostsController_deletePost","parameters":[{"name":"postId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Delete post"}}}},"/posts/user/{userId}":{"get":{"operationId":"PostsController_getPosts","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/posts":{"post":{"operationId":"PostsController_createPost","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"201":{"description":"Create post"}}}},"/posts/changeLike/{postId}":{"put":{"operationId":"PostsController_changeLike","parameters":[{"name":"postId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Change like"}}}}},"info":{"title":"Social network","description":"Social network API ","version":"1.0","contact":{}},"tags":[{"name":"API","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"UpdateProfileRequestDto":{"type":"object","properties":{"middleName":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"login":{"type":"string"},"birthday":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"relatives":{"type":"string"},"school":{"type":"string"},"status":{"type":"string"},"about":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["middleName","firstName","lastName","phone","email","login","birthday","country","city","relatives","school","status","about","createdAt","updatedAt"]},"EditProfileResponseDto":{"type":"object","properties":{"updated":{"type":"boolean","description":"профиль обновлен","example":true}},"required":["updated"]},"UserEntity":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"email":{"type":"string"},"login":{"type":"string"}},"required":["id","createdAt","updatedAt","email","login"]},"FindProfileResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"owner":{"default":"ownerId","allOf":[{"$ref":"#/components/schemas/UserEntity"}]},"firstName":{"type":"string"},"lastName":{"type":"string"},"middleName":{"type":"string"},"phone":{"type":"string"},"status":{"type":"string"},"about":{"type":"string"},"birthday":{"format":"date-time","type":"string"},"country":{"type":"string"},"city":{"type":"string"},"relatives":{"type":"string"},"school":{"type":"string"},"avatar":{"type":"object"},"mainImage":{"type":"object"}},"required":["id","createdAt","updatedAt","owner","firstName","lastName","middleName","phone","status","about","birthday","country","city","relatives","school","avatar","mainImage"]},"EditAvatarResponse":{"type":"object","properties":{"fileName":{"type":"string","description":"Название файла","example":"4b890a22-705b-4872-acb6-a8b829ee0e41_avatar_1651603183"}},"required":["fileName"]},"GetUsersResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"email":{"type":"string"},"login":{"type":"string"}},"required":["id","createdAt","updatedAt","email","login"]},"FilesEntity":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"owner":{"default":"ownerId","allOf":[{"$ref":"#/components/schemas/UserEntity"}]},"name":{"type":"string"},"path":{"type":"string"},"size":{"type":"number"},"mime":{"type":"string"},"status":{"type":"string"},"lastProlong":{"format":"date-time","type":"string"},"folder":{"type":"string"}},"required":["id","createdAt","updatedAt","owner","name","path","size","mime","status","lastProlong","folder"]},"ProfileEntity":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"owner":{"default":"ownerId","allOf":[{"$ref":"#/components/schemas/UserEntity"}]},"firstName":{"type":"string"},"lastName":{"type":"string"},"middleName":{"type":"string"},"phone":{"type":"string"},"avatar":{"$ref":"#/components/schemas/FilesEntity"},"mainImage":{"$ref":"#/components/schemas/FilesEntity"},"status":{"type":"string"},"about":{"type":"string"},"birthday":{"format":"date-time","type":"string"},"country":{"type":"string"},"city":{"type":"string"},"relatives":{"type":"string"},"school":{"type":"string"}},"required":["id","createdAt","updatedAt","owner","firstName","lastName","middleName","phone","avatar","mainImage","status","about","birthday","country","city","relatives","school"]},"GetMeResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя","example":"1b5b029-8bb8-4076-83d8-4f29a58e4dca"},"email":{"type":"string","description":"email пользователя","example":"lev@mail.ru"},"login":{"type":"string","description":"логин пользователя","example":"levnew"},"profile":{"description":"профиль пользователя","allOf":[{"$ref":"#/components/schemas/ProfileEntity"}]}},"required":["id","email","login","profile"]},"GetUserByIdResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"email":{"type":"string"},"login":{"type":"string"}},"required":["id","createdAt","updatedAt","email","login"]},"GetFollowUsersResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя","example":"1b5b029-8bb8-4076-83d8-4f29a58e4dca"},"email":{"type":"string","description":"email пользователя","example":"lev@mail.ru"},"login":{"type":"string","description":"логин пользователя","example":"levnew"}},"required":["id","email","login"]},"FileUploadDto":{"type":"object","properties":{"file":{"type":"string","format":"binary"},"text":{"type":"string"}},"required":["file","text"]},"GetBlogsOfUserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"id поста","example":"d5532bd6-24da-49c3-8e0c-f996f28b7f49"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"entityMap":{"type":"object"},"likes":{"type":"number","description":"количество лайков","example":20},"views":{"type":"number","description":"количество просмотров","example":20},"mainImage":{"type":"object","description":"ссылка на основное фото","example":"../file/name"}},"required":["id","createdAt","updatedAt","entityMap","likes","views","mainImage"]},"CreateDialogRequestDto":{"type":"object","properties":{"text":{"type":"string"},"secondOwnerId":{"type":"string"}},"required":["text","secondOwnerId"]},"MessagesEntity":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"dialog":{"default":["dialogId"],"type":"array","items":{"$ref":"#/components/schemas/DialogsEntity"}},"owner":{"default":"owner_id","allOf":[{"$ref":"#/components/schemas/UserEntity"}]},"text":{"type":"string"},"image":{"$ref":"#/components/schemas/FilesEntity"},"file":{"$ref":"#/components/schemas/FilesEntity"}},"required":["id","createdAt","updatedAt","dialog","owner","text","image","file"]},"DialogsEntity":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"owners":{"type":"array","items":{"$ref":"#/components/schemas/UserEntity"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/MessagesEntity"}},"status":{"type":"string"}},"required":["id","createdAt","updatedAt","owners","messages","status"]},"CreateDialogResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"dialog":{"default":["dialogId"],"type":"array","items":{"$ref":"#/components/schemas/DialogsEntity"}},"owner":{"default":"owner_id","allOf":[{"$ref":"#/components/schemas/UserEntity"}]},"text":{"type":"string"},"image":{"$ref":"#/components/schemas/FilesEntity"},"file":{"$ref":"#/components/schemas/FilesEntity"}},"required":["id","createdAt","updatedAt","dialog","owner","text","image","file"]},"GetDialogsResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"id диалога","example":"b92b7fe8-130b-423b-92b8-ba5c2236dfd8"},"userId":{"type":"string","description":"id юзера","example":"e8c4986b-1b5f-47c9-a533-d22329df0da7"},"dialogsId":{"type":"string","description":"id диалога","example":"b92b7fe8-130b-423b-92b8-ba5c2236dfd8"},"lastMessage":{"description":"последние сообщение","type":"array","items":{"type":"array"}}},"required":["id","userId","dialogsId","lastMessage"]},"GetDialogResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"id диалога","example":"b92b7fe8-130b-423b-92b8-ba5c2236dfd8"},"userId":{"type":"string","description":"id юзера","example":"e8c4986b-1b5f-47c9-a533-d22329df0da7"},"dialogsId":{"type":"string","description":"id диалога","example":"b92b7fe8-130b-423b-92b8-ba5c2236dfd8"},"messages":{"description":"сообщения","type":"array","items":{"type":"array"}}},"required":["id","userId","dialogsId","messages"]},"UpdateOwnersRequestDto":{"type":"object","properties":{"dialogId":{"type":"string"},"owners":{"type":"array","items":{"type":"string"}}},"required":["dialogId","owners"]},"UpdateOwnersResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"owners":{"type":"array","items":{"$ref":"#/components/schemas/UserEntity"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/MessagesEntity"}},"status":{"type":"string"}},"required":["id","createdAt","updatedAt","owners","messages","status"]},"CreatePostDto":{"type":"object","properties":{"text":{"type":"string"},"parentPost":{"type":"string"}},"required":["text","parentPost"]}}}}